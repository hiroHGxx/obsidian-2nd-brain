# コンテキスト注入＆脳の初期化セットアップ (Setup Phase 2)

このワークフローは、抽出された「あなたのコンテキスト（文脈・価値観）」をシステムに読み込ませ、リツト（テンプレート）の人格を**あなた自身の人格**に上書きするための手順です。

---

## 実行手順

### 1. コンテキスト抽出プロンプトの提示 (Interactive Selection)
ユーザーに最適な「コンテキスト抽出プロンプト」を渡すため、以下の手順を実行してください。

1.  **選択肢の提示**:
    ユーザーに「どのAIサービスを使ってコンテキストを作成しますか？**（複数選択可。例: 1と2）**」と問いかけ、以下のリストを提示し、番号を選択させてください。
    *   1. **Grok 2 (X/Twitter)**: あなたのポスト全量から分析（※推奨・最も精度高い）
        *   URL: [https://x.com/i/grok](https://x.com/i/grok)
    *   2. **ChatGPT / Gemini (Web)**: 対話履歴やアップロードしたファイルから分析
    *   3. **NotebookLM**: 資料（PDF/Docs/YouTube動画）から分析
    *   4. **Note (記事データ)**: Note記事のエクスポートデータから分析（※ファイル読み込み）
    *   5. **Manus**: (Manusユーザー向け)
    *   6. **手動入力 / データなし**: 質問に答えてコンテキストを作成

2.  **プロンプトの表示**:
    ユーザーが選択した番号（複数可）に対応するファイルを読み込み、**それぞれのファイル名と区切り線**をつけた上で、**全文をコードブロックで表示**してください。
    *   1選抜時: `00_システム\01_Prompts\コンテキスト抽出\Grokからコンテキストを抽出するプロンプト.md`
    *   2選抜時: `00_システム\01_Prompts\コンテキスト抽出\ブラウザのGeminiかChatGPTからコンテキストを取得するプロンプト.md`
    *   3選抜時: `00_システム\01_Prompts\コンテキスト抽出\NotebookLMでコンテキストを抽出するプロンプト.md`
    *   4選抜時: (※Noteは内部分析するため、ここでのプロンプト表示はスキップします)
    *   5選抜時: `00_システム\01_Prompts\コンテキスト抽出\Manusからコンテキストを抽出するプロンプト.md`

    **※重要: 4番(Note)を選択した場合の特別処理:**
    ユーザーが「4」を含んで選択した場合、以下の手順を実行してください（プロンプトの表示は不要です）。
    1.  **指示**:
        > 「Noteの分析を行います。[記事管理画面](https://note.com/notes) (検索窓の下) から『エクスポート』を実行し、ダウンロードされたファイルをこのフォルダに保存して、メンションしてください（例: `@[note_export.xml]`）。」
    2.  **実行**:
        ユーザーが指定したファイルを `read_file` で読み込み、`00_システム\01_Prompts\コンテキスト抽出\Noteからコンテキストを抽出するプロンプト.md` の指示に従って**あなたが内部で分析を実行**してください。
    3.  **統合**:
        その分析結果を、次のステップで保存する `Initial_Context_Source.txt` に含めてください。
    4.  **アーカイブ**:
        分析に使用したNoteのエクスポートファイルは、今後の執筆学習用リソースとして重要です。
        `Copy-Item` または `move` コマンドを使用して、`.agent/skills/my_writer/resources/note_export.xml` (または元のファイル名) に保存してください。

    **※重要: 1番(Grok)を選択した場合の特別処理:**
    ユーザーが「1」を含んで選択した場合、プロンプトを表示する前に**必ず以下の質問をしてください**。
    > 「Grokでの分析には、正確なアカウント情報が必要です。以下を教えてください：
    > 1.  **対象Xアカウント名** (例: リツト＠AI活用を教える人)
    > 2.  **対象ID** (例: @ritsuto_NFT_Vt)」

    ユーザーから回答が得られたら、`Grokからコンテキストを抽出するプロンプト.md` 内の以下の部分を置換してから表示してください：
    *   `[ここにアカウント名を入れる]` -> **以前の質問で得たアカウント名**
    *   `[ここにIDを入れる(@を除く)]` -> **以前の質問で得たID（@なし）**

    **※重要: 6番(手動入力)を選択した場合、または「データがない」と回答された場合:**
    ユーザーに以下の質問を一問一答形式（またはまとめて）で行い、回答を引き出してください。

    > 「あなたのコンテキストを作成するために、いくつか質問させてください。
    > 1. **現在の職業・肩書き**: 何をしている人ですか？
    > 2. **価値観 (Values)**: 人生や仕事で大切にしていることは何ですか？（例：自由、誠実、挑戦）
    > 3. **目的 (Goals)**: この『第2の脳』を使って何を成し遂げたいですか？
    > 4. **悩み (Issues)**: 現在抱えている課題や苦手なことは何ですか？
    > 5. **好きなこと (Likes)**: あなたの好きなことや物は何ですか？
    > 6. **嫌いなこと (Dis-likes)**: あなたの嫌いなことや物は何ですか？


    ユーザーの回答をまとめ、次のステップで `Initial_Context_Source.txt` に保存（貼り付け）してください。

3.  **指示**:
    「表示されたプロンプトを、それぞれのサービスで実行してください。（※手動入力の場合は、あなたの回答を使用します）。その後、**全てのサービスの出力結果をまとめてコピーし、ここに貼り付けてください**」と伝えます。

### 2. コンテキストデータの受信と保存
1.  **待機**:
    ユーザーからのテキスト入力（**全ての分析結果をまとめたもの**）を待ちます。

2.  **データの保存**:
    ユーザーから受け取ったテキストを、以下のファイルに保存します。
    *   保存先: `03_知識ベース\00_コンテキストログ\Initial_Context_Source.txt`
            *   ※フォルダがない場合は作成すること。

### 3. アップデートの実行 (Update)
保存が完了したら、システムに統合処理を実行させます。

1.  **ワークフロー起動**:
    `.agent/workflows/context-update.md` を読み込み、その手順に従って「コンテキストの統合」と「適用」を実行してください。
    *   ※このプロセスで `UserProfile` 内のファイルが書き換わります。

### 4. 完了確認と次のステップ
全ての処理が終わったら、更新された `00_マスター(Master_Context).md` の内容を要約して表示し、「脳の入れ替え（コンテキスト注入）が完了しました。続いて、**文体とスキルの学習**に移ります」と宣言してください。

> **Next Step:**
> 引き続き、**`03_スキルと文体の学習.md`** を開いて指示に従ってください。

### 5. 完了確認とファイルの削除
1.  **ユーザーへの確認**:
    「**初期化プロセスはすべて完了しましたか？**」と質問し、回答を待ってください。
2.  **ファイルの削除**:
    ユーザーが「完了」または「はい」と答えた場合、**このファイル自体 (`02_コンテキスト注入.md`) を削除**してください。
    ※「01_名前更新.md」がまだ残っている場合は、それも同時に削除してください。
